import{a as u,j as e,B as c,T as w,e as C,b4 as x,aL as v,aG as y,b as f,aI as D,al as F,b5 as R,am as V}from"./index-BcecFl1Z.js";import{u as E}from"./formik.esm-BY6TlLsT.js";import{T as O,b as I}from"./Tabs-DUTfjCyQ.js";import{C as L}from"./Checkbox-C1UzI-gw.js";import{L as P}from"./ListItemText-DYwIz_-f.js";const B=({formik:s})=>{const[d,g]=u.useState(null),o=u.useRef(null),i=r=>{r.preventDefault(),r.stopPropagation()},m=r=>{r.preventDefault(),r.stopPropagation();const n=r.dataTransfer.files;h(n)},p=r=>{const n=r.target.files;n&&h(n)},j=r=>new Promise((n,a)=>{const t=new FileReader,l=new Image;t.onload=()=>{l.src=t.result},l.onload=()=>{const{width:S,height:T}=l;S===750&&T===1024?n(!0):(x.error("Image resolution must be 750 x 1024 pixels."),a("Image resolution must be 750 x 1024 pixels."))},l.onerror=()=>{x.error("Image resolution must be 750 x 1024 pixels."),a("Image resolution must be 750 x 1024 pixels.")},t.onerror=()=>{x.error("Error reading file."),a("Error reading file.")},t.readAsDataURL(r)}),h=async r=>{const n=[],a=Array.from(r).map(async t=>{if(t.type.startsWith("image/"))try{await j(t),n.push(t)}catch(l){g(l)}else x.error("Only JPEG, JPG, PNG, and SVG images are supported.")});if(await Promise.all(a),n.length>0){let t=[];n.map(l=>{t=[...t,{name:l.name,img:l}]}),s.setFieldValue("projectImages",[...s.values.projectImages,...t])}},b=()=>{o.current&&o.current.click()};return e.jsxs(c,{width:"300px",height:"auto",position:"relative",p:2,children:[e.jsxs(c,{width:"100%",minHeight:"200px",border:"1px dashed grey",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",onDragOver:i,onDrop:m,sx:{cursor:"pointer","&:hover":{borderColor:"blue"}},children:[e.jsx(w,{variant:"body2",children:"Drag & Drop images here or click to select"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:o,style:{display:"none"},onChange:p})]}),e.jsx(C,{variant:"contained",color:"primary",onClick:b,style:{position:"absolute",bottom:10,right:10},children:"Upload Images"})]})},W=["Oliver Hansen","Van Henry","April Tucker","Ralph Hubbard","Omar Alexander","Carlos Abbott","Miriam Wagner","Bradley Wilkerson","Virginia Andrews","Kelly Snyder"],A=({formik:s})=>{const d=v.useRef(null);return e.jsx(c,{children:e.jsx(EditorJs,{data:editorData,editorRef:d})})},G=({formik:s})=>{const[d,g]=u.useState("");v.useState([]);const[o,i]=v.useState(""),[m,p]=u.useState(null),j=a=>{p(a),i(s.values.projectImages[a].img.name)},h=(a,t)=>{const l=[...s.values.projectImages];l[t].name=a.target.value,s.setFieldValue("projectImages",l)},b=a=>{var t;if(console.log(o),console.log(s.values.projectImages),console.log(s.values.projectImages[a]),((t=s.values.projectImages[a])==null?void 0:t.name)===""){const l=[...s.values.projectImages];l[a].name=o,s.setFieldValue("projectImages",l)}p(null)},r=W.filter(a=>a.toLowerCase().includes(d.toLowerCase())),n=a=>{const{target:{value:t}}=a;s.setFieldValue("tags",[...t])};return e.jsxs(c,{display:"flex",flexDirection:"column",children:[e.jsx(y,{children:e.jsx(f,{placeholder:"case study title",value:s.values.caseStudyTitle,onChange:a=>{var t;return s.setFieldValue("caseStudyTitle",(t=a==null?void 0:a.target)==null?void 0:t.value)},name:"caseStudyTitle",fullWidth:!0})}),e.jsxs(y,{sx:{m:1,width:300},children:[e.jsx(D,{id:"demo-multiple-checkbox-label",children:"Tag"}),e.jsx(F,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:s.values.tags,onChange:n,input:e.jsx(R,{label:"Tag"}),renderValue:a=>"",displayEmpty:!0,fullWidth:!0,children:r.map(a=>e.jsxs(V,{dense:!0,value:a,children:[e.jsx(L,{checked:s.values.tags.indexOf(a)>-1}),e.jsx(P,{primary:a})]},a))})]}),e.jsxs(y,{children:[e.jsx(B,{formik:s}),s.values.projectImages.length>0&&e.jsx(c,{display:"flex",flexWrap:"wrap",gap:2,flexDirection:"column",children:s.values.projectImages.length>0&&e.jsx(c,{display:"flex",flexWrap:"wrap",gap:2,flexDirection:"column",children:s.values.projectImages.map((a,t)=>e.jsxs(c,{pl:1,display:"flex",alignItems:"center",gap:2,children:[e.jsx("img",{src:URL.createObjectURL(a.img),alt:`Selected ${t}`,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"4px"}}),m===t?e.jsx(f,{value:a.name,onChange:l=>h(l,t),onBlur:()=>b(t),autoFocus:!0}):e.jsx(w,{variant:"h6",onClick:()=>j(t),style:{cursor:"pointer"},children:a.name})]},t))})})]})]})},K=()=>{const[s,d]=u.useState("one"),g=(m,p)=>{d(p)},[o]=u.useState({caseStudyTitle:"",tags:[],projectImages:[]}),i=E({initialValues:o,onSubmit:m=>{console.log("Form Values:",m)}});return u.useEffect(()=>{i.resetForm({values:o})},[o]),e.jsxs(c,{sx:{width:"100%"},children:[e.jsxs(O,{value:s,onChange:g,textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",children:[e.jsx(I,{value:"one",label:"Item One"}),e.jsx(I,{value:"two",label:"Item Two"}),e.jsx(I,{value:"three",label:"Item Three"})]}),e.jsx(c,{mt:2,children:e.jsxs("form",{onSubmit:i.handleSubmit,children:[s==="one"&&e.jsx(G,{formik:i}),s==="two"&&e.jsx(A,{formik:i}),e.jsx(C,{type:"submit",variant:"contained",color:"secondary",disabled:i.isSubmitting,sx:{mt:2},children:"Submit"})]})})]})};export{K as default};
